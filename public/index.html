<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <script src="bower_components/d3/d3.js"></script>
    <script src="js/ui.js"></script>

</head>
<body>
<button onclick="nyPrick()">Ny prick</button>
<script>

    var width = 600,
            height = 500,
            radius = 20;

    var drag =  d3.behavior.drag()
            .on("drag", dragmove);


    var svg = d3.select("body").append("div").selectAll("svg")
            .data(d3.range(1).map(function() { return {x: width / 2, y: height / 2}; }))
            .enter().append("svg")
            .attr("width", width)
            .attr("height", height);

    svg.append("circle")
            .attr("r", 100)
            .attr("cx", function(d) { return width / 2; })
            .attr("cy", function(d) { return height / 2; })
            .attr("fill","transparent")
            .attr("stroke","#ccc");

    function dragmove(d) {
        d3.select(this)
                .attr("cx", d.x = Math.max(radius, Math.min(width - radius, d3.event.x)))
                .attr("cy", d.y = Math.max(radius, Math.min(height - radius, d3.event.y)));
    }

    function nyPrick(){
        svg.append("circle")
                .attr("r", radius)
                .attr("cx", function(d) { return width / 2; })
                .attr("cy", function(d) { return height / 2; })
                .call(drag);

    }

</script>
</body>
</html>